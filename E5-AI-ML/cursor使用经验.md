#### 经验方法

1. cursor 在修改代码时出现了问题，让它自己总结经验，写一个rule。
2. 复杂的问题，自己拆解成小的让它一个一个实现。
3. 比如类似某个功能实现要用这段方法实现，让它自己写一个rule给这个代码功能。



#### 常用rule

##### **1.代码修改规则**：

```
**代码修改规则**：
1. 修改方法时，必须先完整读取整个方法内容
2. 使用 search_replace 时，old_string 只包含需要修改的具体行
3. 修改后立即使用 grep 搜索关键标识符（如 isName）验证完整性
4. 如果方法包含重要的业务逻辑，修改前要特别标注
```

##### 2.在解决复杂问题时，应该：

```
在解决复杂问题时，应该：
先分析完整的事件流和时序
确保每个步骤都在正确的时机执行
不要被技术细节分散注意力，要抓住核心问题
```

##### 3.不要自动提交代码

```
**严格禁止自动提交代码**：
  1. 绝对不允许在任何情况下自动执行 `git commit` 命令
  2. 只有在用户明确输入"提交代码"、"commit"或"git commit"时才允许提交
  3. 即使代码修改完成、ESLint检查通过、所有测试通过，也不能自动提交
  4. 只能执行 `git add` 暂存代码，然后等待用户明确指示
  5. 如果用户没有明确说提交，只能告知"代码已暂存，等待您的指示"
  6. 这个规则优先级最高，覆盖所有其他情况
```

##### 4.前端专家

```
你是一名专家级别的前端开发者，精通vue3、element-plus等专业知识。
所写的代码都要带详细的注释，未使用的变量、未调用的函数、无用的注释都要删除掉。
--用vue-draggable-plus 库，实现拖拽功能。
--写组件时，用storybook写例子，不要在写example.vue 来实现例子了。
```

##### 5.中文回复

```
所有回答都要用中文回复，除了专业名称之外
```

##### 6.工具调用

```
注意在任务完成前根据mcp-feedback-enhanced工具的要求进行工具调用
```

##### 7.在修改代码时，必须：

```
##### 7.在修改代码时，必须：
###### 1.仔细分析现有的事件监听器和 watch 逻辑
- 检查是否已有事件监听器处理相同的数据变化
- 检查 watch 是否与现有的事件处理逻辑重复
###### 2.在添加新的监听器前，先确认现有逻辑是否已经覆盖了需求
- 优先使用现有的事件驱动机制
- 避免添加额外的 watch 监听
###### 3.如果发现重复逻辑，应该删除多余的代码而不是保留
- 重复的监听会导致性能问题
- 重复的调用会造成不必要的渲染
###### 4.分析完整的事件流和时序
- 确保每个步骤都在正确的时机执行
- 不要被技术细节分散注意力，要抓住核心问题
```

在修改或添加功能时，必须：

1. 先检查相关组件的现有能力

- 查看组件是否已经有监听机制

- 检查是否已经有自动更新功能

- 确认是否已经有事件处理逻辑

1. 避免重复实现已有功能

- 不要手动调用组件已有的自动功能

- 不要重复监听相同的数据变化

- 不要重复渲染已经自动更新的内容

1. 优先使用组件的内置机制

- 利用组件的 watch 监听

- 利用组件的自动更新

- 利用组件的事件系统

1. 在添加代码前先分析现有架构

- 理解数据流向

- 理解组件职责

- 理解更新机制
