### [1.page.js](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#pages)

#### 1.默认为服务端组件

Pages are [Server Components](https://nextjs.org/docs/getting-started/react-essentials) by default but can be set to a [Client Component](https://nextjs.org/docs/getting-started/react-essentials#client-components).



### [2.layout.js](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#layouts)

#### 1.layout.js 控制同级的page.js,以及以下segments UIs。

A `layout.js` and `page.js` file can be defined in the same folder. The layout will wrap the page.



<img src="../../../../image/image-20230731210531234.png" alt="image-20230731210531234" style="zoom:50%;" />

- Layouts in a route are **nested** by default. Each parent layout wraps child layouts below it using the React `children` prop.
- You can use [Route Groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups) to opt specific route segments in and out of shared layouts.
- Layouts are [Server Components](https://nextjs.org/docs/getting-started/react-essentials) by default but can be set to a [Client Component](https://nextjs.org/docs/getting-started/react-essentials#client-components).
- Layouts can fetch data.
- Passing data between a parent layout and its children is not possible. However, you can fetch the same data in a route more than once, and React will [automatically dedupe the requests](https://nextjs.org/docs/app/building-your-application/data-fetching#automatic-fetch-request-deduping) without affecting performance.
- Layouts do not have access to the current route segment(s). To access route segments, you can use [`useSelectedLayoutSegment`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segment) or [`useSelectedLayoutSegments`](https://nextjs.org/docs/app/api-reference/functions/use-selected-layout-segments) in a Client Component.

#### 2.[Root Layout (Required)](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#root-layout-required)

- You can use the [built-in SEO support](https://nextjs.org/docs/app/building-your-application/optimizing/metadata) to manage `<head>` HTML elements, for example, the `<title>` element.
- You can use [route groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups) to create multiple root layouts. See an [example here](https://nextjs.org/docs/app/building-your-application/routing/route-groups#creating-multiple-root-layouts).
- The root layout is a [Server Component](https://nextjs.org/docs/getting-started/react-essentials) by default and **can not** be set to a [Client Component](https://nextjs.org/docs/getting-started/react-essentials#client-components).

#### 3.[Nesting Layouts](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#nesting-layouts)

4.[Templates](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#templates)

#### 5.[Modifying `<head>`](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#modifying-head)

In the `app` directory, you can modify the `<head>` HTML elements such as `title` and `meta` using the [built-in SEO support](https://nextjs.org/docs/app/building-your-application/optimizing/metadata).

### [3.template.js](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#templates)

Templates are similar to layouts in that they wrap each child layout or page. Unlike layouts that persist across routes and maintain state, templates create a new instance for each of their children on navigation.

```
<Layout>
  {/* Note that the template is given a unique key. */}
  <Template key={routeParam}>{children}</Template>
</Layout>
```

### [4.loading.js](https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming)

#### 1.[Instant Loading States](https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming#instant-loading-states)

An instant loading state is fallback UI that is shown immediately upon navigation.

- Navigation is immediate, even with [server-centric routing](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#how-routing-and-navigation-works).
- Navigation is interruptible, meaning changing routes does not need to wait for the content of the route to fully load before navigating to another route.
- Shared layouts remain interactive while new route segments load.

#### 2.[Streaming with Suspense](https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming#streaming-with-suspense)
