# BigPipe

### 定义

1. bigPipe一种动态网页加载技术，将页面分解成一个个Pagelet，然后通过Web服务器和浏览器之间建立管道，进行分段输出（减少请求数），提供首屏渲染时间。

   > BigPipe不需要改变现有的网络浏览器或服务器

   

### 特点

1. 后端程序无需等到页面所有 Pagelet 的API都读取执行完，才输出到浏览器，服务器端和浏览器端并行处理，加快了页面显示。解决速度瓶颈、降低延迟时间
2. Pagelet的渲染和输出顺序可以由后端程序控制，及早输出用户关心的模块。
3. 模块化渲染，互不影响

### 原理

1. **分段传输**

   bigPipe依赖于分段传输html页面，所以这是实现bigPipe的一个基础。

2. **浏览器渲染原理**
   1. 浏览器并不会等解析完整的html文档后，才进行layout和paint。
   2. 渲染过程在分块传输的时候，是可以多次进行的，直到接收到`</body></html>`闭合标签

### 使用范围

1. 第一个请求时间较长，后端程序需要读取多个API

2. 页面上的劢态内容可以划分在多个区块内显示，且各个区块之间的关系不大（极弱耦合）

3. SEO需求较弱

   > 微博、facebook用的这项技术



> https://juejin.im/post/5c7a985051882549847e85e0
>
> https://zhuanlan.zhihu.com/p/82398532

