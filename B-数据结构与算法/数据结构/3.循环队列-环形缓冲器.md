#### [环形缓冲区 Circular buffer]()

环形缓冲区（Circular buffer），又称为环形队列、循环缓冲或环状缓冲区，是一种数据结构，它使用固定大小的缓冲区来存储数据。当缓冲区填满数据后，它会从头开始覆盖旧的数据。这种结构在需要定期覆盖旧数据或者在有限的空间内维持最新数据记录的场景下非常有用，例如在硬件设备的驱动程序中用于存储日志信息，或者在应用程序中用于存储最新的数据流。

环形缓冲区的关键特点是它的头部和尾部是相连的。当你向缓冲区添加数据时，一个指针（通常称为“写指针”或“尾指针”）会向前移动，并在到达缓冲区末尾时回到开始位置。类似地，当你从缓冲区读取数据时，另一个指针（通常称为“读指针”或“头指针”）也会向前移动，并在到达缓冲区末尾时回到开始位置。

环形缓冲区的操作通常包括：

1. **初始化**：分配固定大小的缓冲区，并设置头指针和尾指针。
2. **写入数据**：将数据写入尾指针指向的位置，然后移动尾指针。如果尾指针到达缓冲区的末尾，则将其回绕到缓冲区的开始。
3. **读取数据**：从头指针指向的位置读取数据，然后移动头指针。如果头指针到达缓冲区的末尾，则将其回绕到缓冲区的开始。
4. **判断满或空**：通过比较头指针和尾指针的位置来判断缓冲区是满的还是空的。有时候，为了区分满和空的状态，缓冲区会故意空出一个元素的空间，或者使用额外的标记或计数器。

环形缓冲区的一个常见用途是在生产者-消费者问题中，其中生产者和消费者可能在不同的线程或进程中运行。环形缓冲区提供了一种简单有效的方式来缓冲数据项，并允许生产者和消费者以不同的速率进行生产和消费。

在实现环形缓冲区时，需要特别注意同步和并发控制，特别是在多线程环境中，以避免竞态条件和数据损坏。